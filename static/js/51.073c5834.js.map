{"version":3,"file":"js/51.073c5834.js","mappings":"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","sources":["webpack://kube-manage-web/./src/api/secret.js","webpack://kube-manage-web/./src/views/persistentvolumeclaim/PersistentVolumeClaim.vue","webpack://kube-manage-web/./src/api/pvc.js","webpack://kube-manage-web/./src/views/persistentvolumeclaim/PersistentVolumeClaim.vue?b1f3"],"sourcesContent":["import request from \"@/utils/request\";\n\nexport function GetSecret(query) {\n    return request({\n        url: '/api/k8s/secret/list',\n        method: 'get',\n        params: query\n    })\n}\n\n\nexport function GetSecretDetail(query) {\n    return request({\n        url: '/api/k8s/secret/detail',\n        method: 'get',\n        params: query\n    })\n}\n\n\nexport function UpdateSecret(query) {\n    return request({\n        url: '/api/k8s/secret/update',\n        method: 'put',\n        params: query\n    })\n}\n\nexport function DeleteSecret(query) {\n    return request({\n        url: '/api/k8s/secret/del',\n        method: 'delete',\n        params: query\n    })\n}\n\n\nexport function CreateSecret(data) {\n    return request({\n        url: '/api/k8s/secret/create',\n        method: 'post',\n        data\n    })\n}\n\n","<template>\n    <div class=\"pvc\">\n        <el-row>\n            <el-col :span=\"24\">\n                <div>\n                    <el-card class=\"pvc-head-card\" shadow=\"never\" :body-style=\"{padding:'10px'}\">\n                        <el-row>\n                            <el-col :span=\"6\">\n                                <div>\n                                    <span>命名空间: </span>\n                                    <el-select v-model=\"namespaceValue\" filterable placeholder=\"请选择\">\n                                        <el-option\n                                        v-for=\"(item, index) in namespaceList\"\n                                        :key=\"index\"\n                                        :label=\"item.metadata.name\"\n                                        :value=\"item.metadata.name\">\n                                        </el-option>\n                                    </el-select>\n                                </div>\n                            </el-col>\n                            <el-col :span=\"2\" :offset=\"16\">\n                                <div>\n                                    <el-button style=\"border-radius:2px;\" icon=\"Refresh\" plain @click=\"getPvcs()\">刷新</el-button>\n                                </div>\n                            </el-col>\n                        </el-row>\n                    </el-card>\n                </div>\n            </el-col>\n            <el-col :span=\"24\">\n                <div>\n                    <el-card class=\"pvc-head-card\" shadow=\"never\" :body-style=\"{padding:'10px'}\">\n                        <el-row>\n                            <el-col :span=\"2\">\n                                <div>\n                                    <el-button disabled style=\"border-radius:2px;\" icon=\"Edit\" type=\"primary\">创建</el-button>\n                                </div>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <div>\n                                    <el-input class=\"pvc-head-search\" clearable placeholder=\"请输入\" v-model=\"searchInput\"></el-input>\n                                    <el-button style=\"border-radius:2px;\" icon=\"Search\" type=\"primary\" plain @click=\"getPvcs()\">搜索</el-button>\n                                </div>\n                            </el-col>\n                        </el-row>\n                    </el-card>\n                </div>\n            </el-col>\n            <el-col :span=\"24\">\n                <div>\n                    <el-card class=\"pvc-body-card\" shadow=\"never\" :body-style=\"{padding:'5px'}\">\n                        <el-table\n                        style=\"width:100%;font-size:12px;margin-bottom:10px;\"\n                        :data=\"pvcList\"\n                        v-loading=\"appLoading\">\n                            <el-table-column width=\"20\"></el-table-column>\n                            <el-table-column align=left label=\"PVC名\">\n                                <template v-slot=\"scope\">\n                                    <a class=\"pvc-body-pvcname\">{{ scope.row.metadata.name }}</a>\n                                </template>\n                            </el-table-column>\n                            <el-table-column align=center label=\"标签\">\n                                <template v-slot=\"scope\">\n                                    <div v-for=\"(val, key) in scope.row.metadata.labels\" :key=\"key\">\n                                        <el-popover\n                                            placement=\"right\"\n                                            :width=\"200\"\n                                            trigger=\"hover\"\n                                            :content=\"key + ':' + val\">\n                                            <template #reference>\n                                                <el-tag style=\"margin-bottom: 5px\" type=\"warning\">{{ ellipsis(key + \":\" + val) }}</el-tag>\n                                            </template>\n                                        </el-popover>\n                                    </div>\n                                </template>\n                            </el-table-column>\n                            <el-table-column align=center label=\"状态\">\n                                <template v-slot=\"scope\">\n                                    <span :class=\"[scope.row.status.phase === 'Bound' ? 'success-status' : 'error-status']\">{{ scope.row.status.phase }}</span>\n                                </template>\n                            </el-table-column>\n                            <el-table-column align=center prop=\"status.capacity.storage\" label=\"容量\">\n                            </el-table-column>\n                            <el-table-column align=center prop=\"status.accessModes[0]\" label=\"访问模式\">\n                            </el-table-column>\n                            <el-table-column align=center prop=\"spec.storageClassName\" label=\"StorageClass\">\n                            </el-table-column>\n                            <el-table-column align=center min-width=\"100\" label=\"创建时间\">\n                                <template v-slot=\"scope\">\n                                    <el-tag type=\"info\">{{ timeTrans(scope.row.metadata.creationTimestamp) }} </el-tag>\n                                </template>\n                            </el-table-column>\n                            <el-table-column align=center label=\"操作\" width=\"200\">\n                                <template v-slot=\"scope\">\n                                    <el-button size=\"small\" style=\"border-radius:2px;\" icon=\"Edit\" type=\"primary\" plain @click=\"getPvcDetail(scope)\">YAML</el-button>\n                                    <el-button size=\"small\" style=\"border-radius:2px;\" icon=\"Delete\" type=\"danger\" @click=\"handleConfirm(scope, '删除', delPvc)\">删除</el-button>\n                                </template>\n                            </el-table-column>\n                        </el-table>\n                        <el-pagination\n                        class=\"pvc-body-pagination\"\n                        background\n                        @size-change=\"handleSizeChange\"\n                        @current-change=\"handleCurrentChange\"\n                        :current-page=\"currentPage\"\n                        :page-sizes=\"pagesizeList\"\n                        :page-size=\"pagesize\"\n                        layout=\"total, sizes, prev, pager, next, jumper\"\n                        :total=\"pvcTotal\">\n                        </el-pagination>\n                    </el-card>\n                </div>\n            </el-col>\n        </el-row>\n        <el-dialog title=\"YAML信息\" v-model=\"yamlDialog\" width=\"45%\" top=\"5%\">\n            <codemirror\n                :value=\"contentYaml\"\n                border\n                :options=\"cmOptions\"\n                height=\"500\"\n                style=\"font-size:14px;\"\n                @change=\"onChange\"\n            ></codemirror>\n            <template #footer>\n                <span class=\"dialog-footer\">\n                    <el-button @click=\"yamlDialog = false\">取 消</el-button>\n                    <el-button type=\"primary\" @click=\"updatePvc()\">更 新</el-button>\n                </span>\n            </template>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport common from \"../common/Config\";\nimport yaml2obj from 'js-yaml';\nimport json2yaml from 'json2yaml';\nimport {getNamespecelist} from \"@/api/namespace\";\nimport {GetPersistentVolumeClaim, GetPersistentVolumeClaimDetail, UpdatePersistentVolumeClaim} from \"@/api/pvc\";\nimport {DeleteSecret} from \"@/api/secret\";\nexport default {\n    data() {\n        return {\n            //编辑器配置\n            cmOptions: common.cmOptions,\n            contentYaml: '',\n            //分页\n            currentPage: 1,\n            pagesize: 10,\n            pagesizeList: [10, 20, 30],\n            //\n            searchInput: '',\n            namespaceValue: 'default',\n            namespaceList: [],\n            namespaceListUrl: common.k8sNamespaceList,\n            appLoading: false,\n            pvcList: [],\n            pvcTotal: 0,\n            getPvcsData: {\n                params: {\n                    filter_name: '',\n                    namespace: '',\n                    page: '',\n                    limit: '',\n                }\n            },\n            //详情\n            pvcDetail: {},\n            getPvcDetailData: {\n                params: {\n                    pvc_name: '',\n                    namespace: ''\n                }\n            },\n            //yaml更新\n            yamlDialog: false,\n            updatePvcData: {\n                params: {\n                    namespace: '',\n                    content: ''\n                }\n            },\n            //删除\n            delPvcData: {\n                params: {\n                    pvc_name: '',\n                    namespace: '',\n                }\n            }\n        }\n    },\n    methods: {\n        transYaml(content) {\n            return json2yaml.stringify(content)\n        },\n        transObj(content) {\n            return yaml2obj.load(content)\n        },\n        onChange(val) {\n            this.contentYaml = val\n        },\n        handleSizeChange(size) {\n            this.pagesize = size;\n            this.getPvcs()\n        },\n        handleCurrentChange(currentPage) {\n            this.currentPage = currentPage;\n            this.getPvcs()\n        },\n        handleClose(done) {\n            this.$confirm('确认关闭？')\n            .then(() => {\n                done();\n            })\n            .catch(() => {});\n        },\n        ellipsis(value) {\n            return value.length>15?value.substring(0,15)+'...':value\n        },\n        timeTrans(timestamp) {\n            let date = new Date(new Date(timestamp).getTime() + 8 * 3600 * 1000)\n            date = date.toJSON();\n            date = date.substring(0, 19).replace('T', ' ')\n            return date \n        },\n        restartTotal(e) {\n            let index, sum = 0\n            let containerStatuses = e.row.status.containerStatuses\n            for ( index in containerStatuses) {\n                sum = sum + containerStatuses[index].restartCount \n            }\n            return sum\n        },\n        getNamespaces() {\n          getNamespecelist().then(res => {\n                this.namespaceList = res.data.items\n            })\n            .catch(res => {\n                this.$message.error({\n                message: res.msg\n                })\n            })\n        },\n        getPvcs() {\n            this.appLoading = true\n            this.getPvcsData.params.filter_name = this.searchInput\n            this.getPvcsData.params.namespace = this.namespaceValue\n            this.getPvcsData.params.page = this.currentPage\n            this.getPvcsData.params.limit = this.pagesize\n          GetPersistentVolumeClaim(this.getPvcsData.params)\n            .then(res => {\n                this.pvcList = res.data.items\n                this.pvcTotal = res.data.total\n            })\n            .catch(res => {\n                this.$message.error({\n                message: res.msg\n                })\n            })\n            this.appLoading = false\n        },\n        getPvcDetail(e) {\n            this.getPvcDetailData.params.pvc_name = e.row.metadata.name\n            this.getPvcDetailData.params.namespace = this.namespaceValue\n          GetPersistentVolumeClaimDetail(this.getPvcDetailData.params)\n            .then(res => {\n                this.pvcDetail = res.data\n                this.contentYaml = this.transYaml(this.pvcDetail)\n                this.yamlDialog = true\n            })\n            .catch(res => {\n                this.$message.error({\n                message: res.msg\n                })\n            })\n        },\n        updatePvc() {\n            let content = JSON.stringify(this.transObj(this.contentYaml))\n            this.updatePvcData.params.namespace = this.namespaceValue\n            this.updatePvcData.params.content = content\n          UpdatePersistentVolumeClaim( this.updatePvcData.params)\n            .then(res => {\n                this.$message.success({\n                message: res.msg\n                })\n            })\n            .catch(res => {\n                this.$message.error({\n                message: res.msg\n                })\n            })\n            this.yamlDialog = false\n        },\n        delPvc(e) {\n            this.delPvcData.params.pvc_name = e.row.metadata.name\n            this.delPvcData.params.namespace = this.namespaceValue\n          DeleteSecret(this.delPvcData.params)\n            .then(res => {\n                this.getPvcs()\n                this.$message.success({\n                message: res.msg\n                })\n            })\n            .catch(res => {\n                this.$message.error({\n                message: res.msg\n                })\n            })\n        },\n        handleConfirm(obj, operateName, fn) {\n            this.confirmContent = '确认继续 ' + operateName + ' 操作吗？'\n            this.$confirm(this.confirmContent,'提示',{\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n            })\n            .then(() => {\n                fn(obj)\n                })\n            .catch(() => {\n                this.$message.info({\n                    message: '已取消操作'\n                })          \n            })\n        },\n    },\n    watch: {\n        namespaceValue: {\n            handler() {\n                localStorage.setItem('namespace', this.namespaceValue)\n                this.currentPage = 1\n                this.getPvcs()\n            }\n        },\n    },\n    beforeMount() {\n        if (localStorage.getItem('namespace') !== undefined && localStorage.getItem('namespace') !== null) {\n            this.namespaceValue = localStorage.getItem('namespace')\n        }\n        this.getNamespaces()\n        this.getPvcs()\n    }\n}\n</script>\n\n\n<style scoped>\n    .pvc-head-card,.pvc-body-card {\n        border-radius: 1px;\n        margin-bottom: 5px;\n    }\n    .pvc-head-search {\n        width:160px;\n        margin-right:10px; \n    }\n    .pvc-body-pvcname {\n        color: #4795EE;\n    }\n    .pvc-body-pvcname:hover {\n        color: rgb(84, 138, 238);\n        cursor: pointer;\n        font-weight: bold;\n    }\n    .success-status {\n        color: rgb(27, 202, 21);\n    }\n    .warning-status {\n        color: rgb(233, 200, 16);\n    }\n    .error-status {\n        color: rgb(226, 23, 23);\n    }\n</style>","import request from \"@/utils/request\";\n\nexport function GetPersistentVolumeClaim(query) {\n    return request({\n        url: '/api/k8s/persistentvolumeclaim/list',\n        method: 'get',\n        params: query\n    })\n}\n\n\nexport function GetPersistentVolumeClaimDetail(query) {\n    return request({\n        url: '/api/k8s/persistentvolumeclaim/detail',\n        method: 'get',\n        params: query\n    })\n}\n\n\nexport function UpdatePersistentVolumeClaim(query) {\n    return request({\n        url: '/api/k8s/persistentvolumeclaim/update',\n        method: 'put',\n        params: query\n    })\n}\n\nexport function DeletePersistentVolumeClaim(query) {\n    return request({\n        url: '/api/k8s/persistentvolumeclaim/del',\n        method: 'delete',\n        params: query\n    })\n}\n","import { render } from \"./PersistentVolumeClaim.vue?vue&type=template&id=2a91d83e&scoped=true\"\nimport script from \"./PersistentVolumeClaim.vue?vue&type=script&lang=js\"\nexport * from \"./PersistentVolumeClaim.vue?vue&type=script&lang=js\"\n\nimport \"./PersistentVolumeClaim.vue?vue&type=style&index=0&id=2a91d83e&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/allen/kubemanage-web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a91d83e\"]])\n\nexport default __exports__"],"names":["GetSecret","query","request","url","method","params","GetSecretDetail","UpdateSecret","DeleteSecret","class","_createElementVNode","_createElementBlock","_createVNode","_component_el_row","_component_el_col","span","_component_el_card","shadow","padding","_hoisted_2","_component_el_select","$data","$event","filterable","placeholder","_Fragment","_renderList","item","index","_createBlock","_component_el_option","key","label","metadata","name","value","offset","_component_el_button","style","icon","plain","onClick","$options","disabled","type","_component_el_input","clearable","_component_el_table","data","_component_el_table_column","width","align","scope","_toDisplayString","row","labels","val","_component_el_popover","placement","trigger","content","reference","_component_el_tag","status","phase","prop","creationTimestamp","size","_component_el_pagination","background","onSizeChange","onCurrentChange","layout","total","_component_el_dialog","title","top","footer","_component_codemirror","border","options","height","onChange","GetPersistentVolumeClaim","GetPersistentVolumeClaimDetail","UpdatePersistentVolumeClaim","cmOptions","common","contentYaml","currentPage","pagesize","pagesizeList","searchInput","namespaceValue","namespaceList","namespaceListUrl","appLoading","pvcList","pvcTotal","getPvcsData","filter_name","namespace","page","limit","pvcDetail","getPvcDetailData","pvc_name","yamlDialog","updatePvcData","delPvcData","methods","transYaml","json2yaml","stringify","transObj","yaml2obj","this","handleSizeChange","getPvcs","handleCurrentChange","handleClose","done","$confirm","then","catch","ellipsis","length","substring","timeTrans","timestamp","date","Date","getTime","toJSON","replace","restartTotal","e","sum","containerStatuses","restartCount","getNamespaces","getNamespecelist","res","items","$message","error","message","msg","getPvcDetail","updatePvc","JSON","success","delPvc","handleConfirm","obj","operateName","fn","confirmContent","confirmButtonText","cancelButtonText","info","watch","handler","localStorage","setItem","beforeMount","undefined","getItem","__exports__","render"],"sourceRoot":""}