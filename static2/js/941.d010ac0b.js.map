{"version":3,"file":"js/941.d010ac0b.js","mappings":"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","sources":["webpack://kube-manage-web/./src/views/persistentvolume/PersistentVolume.vue","webpack://kube-manage-web/./src/api/pv.js","webpack://kube-manage-web/./src/views/persistentvolume/PersistentVolume.vue?e505"],"sourcesContent":["<template>\n    <div class=\"pv\">\n        <el-row>\n            <el-col :span=\"24\">\n                <div>\n                    <el-card class=\"pv-head-card\" shadow=\"never\" :body-style=\"{padding:'10px'}\">\n                        <el-row>\n                            <el-col :span=\"2\">\n                                <div>\n                                    <el-button disabled style=\"border-radius:2px;\" icon=\"Edit\" type=\"primary\">创建</el-button>\n                                </div>\n                            </el-col>\n                            <el-col :span=\"6\">\n                                <div>\n                                    <el-input class=\"pv-head-search\" clearable placeholder=\"请输入\" v-model=\"searchInput\"></el-input>\n                                    <el-button style=\"border-radius:2px;\" icon=\"Search\" type=\"primary\" plain @click=\"getPvs()\">搜索</el-button>\n                                </div>\n                            </el-col>\n                            <el-col :span=\"2\" :offset=\"14\">\n                                <div>\n                                    <el-button style=\"border-radius:2px;\" icon=\"Refresh\" plain @click=\"getPvs()\">刷新</el-button>\n                                </div>\n                            </el-col>\n                        </el-row>\n                    </el-card>\n                </div>\n            </el-col>\n            <el-col :span=\"24\">\n                <div>\n                    <el-card class=\"pv-body-card\" shadow=\"never\" :body-style=\"{padding:'5px'}\">\n                        <el-table\n                        style=\"width:100%;font-size:12px;margin-bottom:10px;\"\n                        :data=\"pvList\"\n                        v-loading=\"appLoading\">\n                            <el-table-column width=\"20\"></el-table-column>\n                            <el-table-column align=left label=\"PV名\">\n                                <template v-slot=\"scope\">\n                                    <a class=\"pv-body-pvname\">{{ scope.row.metadata.name }}</a>\n                                </template>\n                            </el-table-column>\n                            <el-table-column align=center label=\"状态\">\n                                <template v-slot=\"scope\">\n                                    <span :class=\"[scope.row.status.phase === 'Bound' ? 'success-status' : 'error-status']\">{{ scope.row.status.phase }}</span>\n                                </template>\n                            </el-table-column>\n                            <el-table-column align=center prop=\"spec.accessModes[0]\" label=\"访问模式\"></el-table-column>\n                            <el-table-column align=center prop=\"spec.capacity.storage\" label=\"容量\"></el-table-column>\n                            <el-table-column align=center prop=\"spec.claimRef.name\" label=\"PVC\"></el-table-column>\n                            <el-table-column align=center min-width=\"100\" label=\"创建时间\">\n                                <template v-slot=\"scope\">\n                                    <el-tag type=\"info\">{{ timeTrans(scope.row.metadata.creationTimestamp) }} </el-tag>\n                                </template>\n                            </el-table-column>\n                            <el-table-column align=center label=\"操作\" min-width=\"120\">\n                                <template v-slot=\"scope\">\n                                    <el-button size=\"small\" style=\"border-radius:2px;\" icon=\"Edit\" type=\"primary\" plain @click=\"getPvDetail(scope)\">YAML</el-button>\n                                    <el-button size=\"small\" style=\"border-radius:2px;\" icon=\"Delete\" type=\"danger\" @click=\"handleConfirm(scope, '删除', delPv)\">删除</el-button>\n                                </template>\n                            </el-table-column>\n                        </el-table>\n                        <el-pagination\n                        class=\"pv-body-pagination\"\n                        background\n                        @size-change=\"handleSizeChange\"\n                        @current-change=\"handleCurrentChange\"\n                        :current-page=\"currentPage\"\n                        :page-sizes=\"pagesizeList\"\n                        :page-size=\"pagesize\"\n                        layout=\"total, sizes, prev, pager, next, jumper\"\n                        :total=\"pvTotal\">\n                        </el-pagination>\n                    </el-card>\n                </div>\n            </el-col>\n        </el-row>\n        <el-dialog title=\"YAML信息\" v-model=\"yamlDialog\" width=\"45%\" top=\"5%\">\n            <codemirror\n                :value=\"contentYaml\"\n                border\n                :options=\"cmOptions\"\n                height=\"500\"\n                style=\"font-size:14px;\"\n                @change=\"onChange\"\n            ></codemirror>\n            <template #footer>\n                <span class=\"dialog-footer\">\n                    <el-button @click=\"yamlDialog = false\">取 消</el-button>\n                    <el-button disabled type=\"primary\" @click=\"updatePv()\">更 新</el-button>\n                </span>\n            </template>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\nimport common from \"../common/Config\";\nimport yaml2obj from 'js-yaml';\nimport json2yaml from 'json2yaml';\nimport {DeletePersistentVolume, GetPersistentVolume, GetPersistentVolumeDetail, UpdatePersistentVolume} from \"@/api/pv\";\nexport default {\n    data() {\n        return {\n            //编辑器配置\n            cmOptions: common.cmOptions,\n            contentYaml: '',\n            //分页\n            currentPage: 1,\n            pagesize: 10,\n            pagesizeList: [10, 20, 30],\n            //\n            searchInput: '',\n            namespaceValue: 'default',\n            namespaceList: [],\n            namespaceListUrl: common.k8sNamespaceList,\n            appLoading: false,\n            pvList: [],\n            pvTotal: 0,\n            getPvsData: {\n                url: common.k8sPvList,\n                params: {\n                    filter_name: '',\n                    namespace: '',\n                    page: '',\n                    limit: '',\n                }\n            },\n            //详情\n            pvDetail: {},\n            getPvDetailData: {\n                url: common.k8sPvDetail,\n                params: {\n                    name: '',\n                    namespace: ''\n                }\n            },\n            //yaml更新\n            yamlDialog: false,\n            updatePvData: {\n                url: common.k8sPvUpdate,\n                params: {\n                    namespace: '',\n                    content: ''\n                }\n            },\n            //删除\n            delPvData: {\n                url: common.k8spvDel,\n                params: {\n                    name: '',\n                    namespace: '',\n                }\n            }\n        }\n    },\n    methods: {\n        transYaml(content) {\n            return json2yaml.stringify(content)\n        },\n        transObj(content) {\n            return yaml2obj.load(content)\n        },\n        onChange(val) {\n            this.contentYaml = val\n        },\n        handleSizeChange(size) {\n            this.pagesize = size;\n            this.getPvs()\n        },\n        handleCurrentChange(currentPage) {\n            this.currentPage = currentPage;\n            this.getPvs()\n        },\n        handleClose(done) {\n            this.$confirm('确认关闭？')\n            .then(() => {\n                done();\n            })\n            .catch(() => {});\n        },\n        ellipsis(value) {\n            return value.length>15?value.substring(0,15)+'...':value\n        },\n        timeTrans(timestamp) {\n            let date = new Date(new Date(timestamp).getTime() + 8 * 3600 * 1000)\n            date = date.toJSON();\n            date = date.substring(0, 19).replace('T', ' ')\n            return date \n        },\n        specTrans(str) {\n            if ( str.indexOf('Ki') == -1 ) {\n                return str\n            }\n            let num = str.slice(0,-2) / 1024 / 1024\n            return num.toFixed(0)\n        },\n        getNamespaces() {\n          getNamespecelist()\n            .then(res => {\n                this.namespaceList = res.data.items\n            })\n            .catch(res => {\n                this.$message.error({\n                message: res.msg\n                })\n            })\n        },\n        getPvs() {\n            this.appLoading = true\n            this.getPvsData.params.filter_name = this.searchInput\n            this.getPvsData.params.namespace = this.namespaceValue\n            this.getPvsData.params.page = this.currentPage\n            this.getPvsData.params.limit = this.pagesize\n          GetPersistentVolume(this.getPvsData.params)\n            .then(res => {\n                this.pvList = res.data.items\n                this.pvTotal = res.data.total\n            })\n            .catch(res => {\n                this.$message.error({\n                message: res.msg\n                })\n            })\n            this.appLoading = false\n        },\n        getPvDetail(e) {\n            this.getPvDetailData.params.name = e.row.metadata.name\n            this.getPvDetailData.params.namespace = this.namespaceValue\n          GetPersistentVolumeDetail(this.getPvDetailData.params)\n            .then(res => {\n                this.pvDetail = res.data\n                this.contentYaml = this.transYaml(this.pvDetail)\n                this.yamlDialog = true\n            })\n            .catch(res => {\n                this.$message.error({\n                message: res.msg\n                })\n            })\n        },\n        updatePv() {\n            let content = JSON.stringify(this.transObj(this.contentYaml))\n            this.updatePvData.params.namespace = this.namespaceValue\n            this.updatePvData.params.content = content\n          UpdatePersistentVolume(this.updatePvData.params)\n            .then(res => {\n                this.$message.success({\n                message: res.msg\n                })\n            })\n            .catch(res => {\n                this.$message.error({\n                message: res.msg\n                })\n            })\n            this.yamlDialog = false\n        },\n        delPv(e) {\n            this.delPvData.params.name = e.row.metadata.name\n            this.delPvData.params.namespace = this.namespaceValue\n          DeletePersistentVolume(this.delPvData.params)\n            .then(res => {\n                this.getPvs()\n                this.$message.success({\n                message: res.msg\n                })\n            })\n            .catch(res => {\n                this.$message.error({\n                message: res.msg\n                })\n            })\n        },\n        handleConfirm(obj, operateName, fn) {\n            this.confirmContent = '确认继续 ' + operateName + ' 操作吗？'\n            this.$confirm(this.confirmContent,'提示',{\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n            })\n            .then(() => {\n                fn(obj)\n                })\n            .catch(() => {\n                this.$message.info({\n                    message: '已取消操作'\n                })          \n            })\n        },\n    },\n    beforeMount() {\n        this.getPvs()\n    }\n}\n</script>\n\n\n<style scoped>\n    .pv-head-card,.pv-body-card {\n        border-radius: 1px;\n        margin-bottom: 5px;\n    }\n    .pv-head-search {\n        width:160px;\n        margin-right:10px; \n    }\n    .pv-body-pvname {\n        color: #4795EE;\n    }\n    .pv-body-pvname:hover {\n        color: rgb(84, 138, 238);\n        cursor: pointer;\n        font-weight: bold;\n    }\n    .success-status {\n        color: rgb(27, 202, 21);\n    }\n    .warning-status {\n        color: rgb(233, 200, 16);\n    }\n    .error-status {\n        color: rgb(226, 23, 23);\n    }\n</style>","import request from \"@/utils/request\";\n\nexport function GetPersistentVolume(query) {\n    return request({\n        url: '/api/k8s/persistentvolume/list',\n        method: 'get',\n        params: query\n    })\n}\n\n\nexport function GetPersistentVolumeDetail(query) {\n    return request({\n        url: '/api/k8s/persistentvolume/detail',\n        method: 'get',\n        params: query\n    })\n}\n\n\nexport function UpdatePersistentVolume(query) {\n    return request({\n        url: '/api/k8s/persistentvolume/update',\n        method: 'put',\n        params: query\n    })\n}\n\nexport function DeletePersistentVolume(query) {\n    return request({\n        url: '/api/k8s/persistentvolume/del',\n        method: 'delete',\n        params: query\n    })\n}\n","import { render } from \"./PersistentVolume.vue?vue&type=template&id=f36d00a0&scoped=true\"\nimport script from \"./PersistentVolume.vue?vue&type=script&lang=js\"\nexport * from \"./PersistentVolume.vue?vue&type=script&lang=js\"\n\nimport \"./PersistentVolume.vue?vue&type=style&index=0&id=f36d00a0&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/allen/kubemanage-web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f36d00a0\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createVNode","_component_el_row","_component_el_col","span","_createElementVNode","_component_el_card","shadow","padding","_component_el_button","disabled","style","icon","type","_component_el_input","clearable","placeholder","$data","$event","plain","onClick","$options","offset","_createBlock","_component_el_table","data","_component_el_table_column","width","align","label","scope","_toDisplayString","row","metadata","name","status","phase","prop","_component_el_tag","creationTimestamp","size","_component_el_pagination","background","onSizeChange","onCurrentChange","layout","total","_component_el_dialog","title","top","footer","_component_codemirror","value","border","options","height","onChange","GetPersistentVolume","query","request","url","method","params","GetPersistentVolumeDetail","UpdatePersistentVolume","DeletePersistentVolume","cmOptions","common","contentYaml","currentPage","pagesize","pagesizeList","searchInput","namespaceValue","namespaceList","namespaceListUrl","appLoading","pvList","pvTotal","getPvsData","filter_name","namespace","page","limit","pvDetail","getPvDetailData","yamlDialog","updatePvData","content","delPvData","methods","transYaml","json2yaml","stringify","transObj","yaml2obj","val","this","handleSizeChange","getPvs","handleCurrentChange","handleClose","done","$confirm","then","catch","ellipsis","length","substring","timeTrans","timestamp","date","Date","getTime","toJSON","replace","specTrans","str","indexOf","num","slice","toFixed","getNamespaces","getNamespecelist","res","items","$message","error","message","msg","getPvDetail","e","updatePv","JSON","success","delPv","handleConfirm","obj","operateName","fn","confirmContent","confirmButtonText","cancelButtonText","info","beforeMount","__exports__","render"],"sourceRoot":""}